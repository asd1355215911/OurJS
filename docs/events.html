<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>可用事件类型列表</title>
<script src="../our.js"></script>
<script src="../scripts/common_loader.js"></script>
<style>
pre,
samp { font-family: Verdana, Helvetica, Arial, "Microsoft YaHei", SimSun, sans-serif; }
samp,
var { font-style: italic; }
samp { color: gray; }
dfn { color: steelblue; }
var { color: sienna; }
table { table-layout: fixed; width: 800px; margin: 50px auto 0; }
col { width: 100px; }
col.type { width: auto; }
.true { background-color: greenyellow; }
.false { background-color: whitesmoke; }
</style>
</head>
<body>
<div id="content">
<h1>可用事件类型列表</h1>

<p>以下列表中的事件类型均可以在“有效类型”的对象上（不同类型的事件应用到的元素类型也不尽相同 - 待添加详细说明）调用 on、off 或 fire 方法时使用，如：</p>
<pre><samp>window</samp>.<dfn>fire</dfn>('<var><strong>resize</strong></var>);</pre>
<pre><samp>document</samp>.<dfn>off</dfn>('<var><strong>click</strong>.foo</var>');</pre>
<pre><samp>$element</samp>.<dfn>on</dfn>('<var><strong>mousedrag</strong>:relay(.draggable)</var>', function(e) {...});</pre>

<p class="referral">
  除了这里列出的 DOM 事件类型外，OurJS 还支持自定义 DOM 事件类型。<br>
  为自定义事件类型命名时，注意不要使用以下列表中已存在的事件类型，以免事件被意外的触发。
</p>

<table>
  <colgroup>
    <col class="type">
    <col class="mouse">
    <col class="keyboard">
    <col class="bubbling">
  </colgroup>
  <thead>
    <tr>
      <th>事件类型</th>
      <th>鼠标事件</th>
      <th>键盘事件</th>
      <th>可以冒泡<br>(可以代理)</th>
      <th>应用于</th>
    </tr>
  </thead>
  <tbody id="list"></tbody>
</table>

<script>
//--------------------------------------------------[Data]
var events = [
  ['mousedown', 1, 0, 1, 'document, Element'],
  ['mouseup', 1, 0, 1, 'document, Element'],
  ['click', 1, 0, 1, 'document, Element'],
  ['dblclick', 1, 0, 1, 'document, Element'],
  ['contextmenu', 1, 0, 1, 'document, Element'],
  ['mousemove', 1, 0, 1, 'document, Element'],
  ['mouseover', 1, 0, 1, 'document, Element'],
  ['mouseout', 1, 0, 1, 'document, Element'],
  ['mousewheel', 1, 0, 1, 'document, Element'],
  ['mouseenter', 1, 0, 1, 'document, Element'],
  ['mouseleave', 1, 0, 1, 'document, Element'],
  ['mousedragstart', 1, 0, 1, 'document, Element'],
  ['mousedrag', 1, 0, 1, 'document, Element'],
  ['mousedragend', 1, 0, 1, 'document, Element'],
//  ['mousedragenter', 1, 0, 1, 'document, Element'],
//  ['mousedragover', 1, 0, 1, 'document, Element'],
//  ['mousedragleave', 1, 0, 1, 'document, Element'],
//  ['mousedrop', 1, 0, 1, 'document, Element'],
  ['keydown', 0, 1, 1, 'document, Element'],
  ['keyup', 0, 1, 1, 'document, Element'],
  ['keypress', 0, 1, 1, 'document, Element'],
  ['focus', 0, 0, 0, 'document, Element'],
  ['blur', 0, 0, 0, 'document, Element'],
  ['focusin', 0, 0, 1, 'Element'],
  ['focusout', 0, 0, 1, 'Element'],
  ['input', 0, 0, 1, 'HTMLInputElement, HTMLTextareaElement'],
  ['change', 0, 0, 1, 'HTMLInputElement, HTMLTextareaElement'],
  ['select', 0, 0, 0, 'Element'],
  ['submit', 0, 0, 0, 'HTMLFormElement'],
  ['reset', 0, 0, 0, 'HTMLFormElement'],
  ['scroll', 0, 0, 0, 'Element'],
  ['load', 0, 0, 0, 'window, HTMLImageElement'],
  // window 的特殊事件。
  ['unload', 0, 0, 0, 'window'],
  ['beforeunload', 0, 0, 0, 'window'],
  ['resize', 0, 0, 0, 'window'],
  ['error', 0, 0, 0, 'window'],
  // document 的特殊事件。
  ['domready', 0, 0, 0, 'document']
];

//--------------------------------------------------[List]
(function() {
  var $tbody = $('#list');
  var $tr;
  var $td;
  var operators = [0, 1, 2, 4];
  var showResult = function(name, mask, applyTo) {
    $tr = $tbody.insertRow(-1);
    for (var i = 0; i < 5; i++) {
      $td = $tr.insertCell(-1);
      switch (i) {
        case 0:
          $td.innerHTML = name;
          break;
        case 4:
          $td.innerHTML = applyTo;
          break;
        default:
          $td.className = (mask & operators[i]) ? 'true' : 'false';
          break;
      }
    }
  };

  var eventsObject = {};
  events.forEach(function(item) {
    var mask = parseInt(('' + item[3] + item[2] + item[1]), 2);
    showResult(item[0], mask, item[4]);
    eventsObject[item[0]] = mask;
  });
  showResult('<var><strong>其他任意自定义事件类型</strong></var>', 4, 'window, document, Element');

  console.log(JSON.stringify(eventsObject));

})();
</script>

</div>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>DOM 事件列表</title>
<script src="../our.js"></script>
<script src="../scripts/framework.js"></script>
<style>
col { width: 100px; }
col.type { width: 200px; }
.true { background-color: greenyellow; }
</style>
</head>
<body>
<div id="content">
  <h1>DOM 事件列表</h1>

  <h2>事件的使用</h2>
  <p>这里列出的事件，均可以在 window、document 或 Element 类型的对象上调用 on、off 或 fire 方法时使用。</p>
  <p>OurJS 对常见的 DOM 事件均进行了浏览器兼容性处理，另外，OurJS 也支持自定义事件。<br>这些常见的 DOM 事件和所有自定义事件均可以在主流浏览器中有相同的表现。</p>

  <h2>目前支持的 DOM 事件类型</h2>
  <p>以下列表中，第三列“canNotBubble”为绿色的事件不能被代理。</p>
  <p>不同类型的事件应用到的元素类型也不尽相同（待添加详细说明）。</p>
  <table>
    <colgroup>
      <col class="type">
      <col class="mouse">
      <col class="keyboard">
      <col class="bubbling">
    </colgroup>
    <thead>
      <tr>
        <th>事件类型</th>
        <th>鼠标事件</th>
        <th>键盘事件</th>
        <th>可以冒泡<br>(可以代理)</th>
      </tr>
    </thead>
    <tbody id="list"></tbody>
  </table>

  <h2>自定义事件</h2>
  <p>如果使用自定义事件，需要注意避免使用上边的列表中的事件类型，以免被用户的正常操作意外的触发。</p>
  <p>自定义事件默认都不是键盘事件或鼠标事件，并且都是可以冒泡的。</p>

  <script>
  //--------------------------------------------------[Data]
  var events = [
    ['mousedown', 1, 0, 1],
    ['mouseup', 1, 0, 1],
    ['click', 1, 0, 1],
    ['dblclick', 1, 0, 1],
    ['contextmenu', 1, 0, 1],
    ['mousemove', 1, 0, 1],
    ['mouseover', 1, 0, 1],
    ['mouseout', 1, 0, 1],
    ['mousewheel', 1, 0, 1],
    ['mouseenter', 1, 0, 1],
    ['mouseleave', 1, 0, 1],
    ['mousedragstart', 1, 0, 1],
    ['mousedrag', 1, 0, 1],
    ['mousedragend', 1, 0, 1],
//  ['mousedragenter', 1, 0, 1],
//  ['mousedragover', 1, 0, 1],
//  ['mousedragleave', 1, 0, 1],
//  ['mousedrop', 1, 0, 1],
    ['keydown', 0, 1, 1],
    ['keyup', 0, 1, 1],
    ['keypress', 0, 1, 1],
    ['focus', 0, 0, 0],
    ['blur', 0, 0, 0],
    ['focusin', 0, 0, 1],
    ['focusout', 0, 0, 1],
    ['input', 0, 0, 1],
    ['change', 0, 0, 1],
    ['select', 0, 0, 0],
    ['submit', 0, 0, 0],
    ['reset', 0, 0, 0],
    ['scroll', 0, 0, 0],
    ['load', 0, 0, 0],
    // window 的特殊事件。
    ['unload', 0, 0, 0],
    ['beforeunload', 0, 0, 0],
    ['resize', 0, 0, 0],
    ['error', 0, 0, 0],
    // document 的特殊事件。
    ['domready', 0, 0, 0]
  ];

  //--------------------------------------------------[List]
  (function() {
    var $tbody = $('#list');
    var $tr;
    var $td;
    var operators = [0, 1, 2, 4];

    function showResult(name, mask) {
      $tr = $tbody.insertRow(-1);
      for (var i = 0; i < 4; i++) {
        var result = i === 0 ? name : mask & operators[i];
        $td = $tr.insertCell(-1);
        if (result > 0) {
          $td.className = 'true';
        }
        $td.innerHTML = result;
      }
    }

    var eventsObject = {};
    events.forEach(function(item) {
      var mask = parseInt(('' + item[3] + item[2] + item[1]), 2);
      showResult(item[0], mask);
      eventsObject[item[0]] = mask;
    });

//    console.log(JSON.stringify(eventsObject));

  })();

  </script>
</div>
</body>
</html>

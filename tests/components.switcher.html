<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Switcher</title>
<link rel="stylesheet" href="../stylesheets/common.css">
<script src="../dev.js"></script>
<style>
span { float: left; width: 100px; height: 100px; margin: 10px; background: yellowgreen; font: 14px/100px Verdana; text-align: center; }
.active { background: greenyellow; }
</style>
</head>
<body>
<h1>Switcher</h1>
<fieldset>
  <legend>点击一个方块将之设置为“活动”状态，点击空白处取消活动方块。</legend>
  <span>〇</span>
  <span>一</span>
  <span>二</span>
  <span>三</span>
  <span>四</span>
  <p id="message" style="clear: both;"></p>
</fieldset>
<script>
execute(function($) {
  var $message = $('#message');

  window.s = new Switcher($(document.body).find('span'))
      .on('change', function() {
        console.warn(this.activeItem, this.items.length);
      })
      .on('activate', function(e) {
        if (e.activeItem) {
          e.activeItem.addClass('active');
        }
        if (e.inactiveItem) {
          e.inactiveItem.removeClass('active');
        }
        $message.innerText = (e.inactiveItem && e.inactiveItem.innerHTML) + ' » ' + (e.activeItem && e.activeItem.innerHTML);
      })
      .activate(2);

  document.on('click', function(e) {
    s.activate(e.target);
  });

});
</script>
</body>
</html>

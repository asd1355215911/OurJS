<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>DIALOG</title>
<link rel="stylesheet" href="../reset.css">
<script src="../../dev.js"></script>
<script src="../../src/widgets/dialog.js"></script>
<style>

</style>
</head>
<body>
<h1>DIALOG</h1>
<p>模态对话框</p>

<fieldset>
  <legend>对话框出现时遮罩下边的元素不能通过 tab 键获取焦点</legend>
  <input type="button" value="button">
  <input type="text" value="text">
  <select>
    <option>IE6 SELECT</option>
  </select>
  <a href="#">link</a>
</fieldset>

<p style="clear: both; text-align: center;">
  <button class="action" onclick="dialogA.open();">dialogA.open()</button>
</p>

<div id="container" style="width: 800px; height: 450px; border: 1px solid silver; background: whitesmoke;">
  <fieldset>
    <legend>对话框出现时遮罩下边的元素不能通过 tab 键获取焦点</legend>
    <input type="button" value="button">
    <input type="text" value="text">
    <select>
      <option>IE6 SELECT</option>
    </select>
    <a href="#">link</a>
  </fieldset>
</div>

<!-- dialog_a { -->
<ins id="dialog_a" widget="dialog" data-effect="2" style="width: 600px; height: 400px; background: steelblue url(png.png);" class="alpha">
  <fieldset style="background: url(png.png);" class="alpha">
    <legend>测试 IE6 中 SELECT 元素的遮盖情况</legend>
    <select>
      <option>SELECT</option>
    </select>
  </fieldset>
  <p style="clear: both; text-align: center;">
    <button class="action" onclick="dialogA.close();">dialogA.close()</button>
    <button class="action" onclick="dialogB.open();">dialogB.open()</button>
  </p>
</ins>
<!-- } dialog_a -->

<!-- dialog_b { -->
<ins id="dialog_b" widget="dialog" data-effect="1" style="position: fixed; width: 400px; height: 200px; background: mediumorchid;">
  <p style="clear: both; text-align: center;">
    <button class="action" onclick="dialogB.close();">dialogB.close()</button>
  </p>
  <p style="clear: both; text-align: center;">
    <button class="action" onclick="animation.play();">变长</button>
    <button class="action" onclick="animation.reverse();">变短</button>
  </p>
</ins>
<!-- } dialog_b -->

<script>
//--------------------------------------------------[TEST]
var dialogA = $('#dialog_a')
    .on('open', function() {
      console.log('open');
    })
    .on('close', function() {
      console.log('close');
    });
var dialogB = $('#dialog_b');
dialogB.effect = 1;
var animation = new Animation()
    .addClip(Animation.createStyleRenderer(dialogB, {height: 400}), 0, 200, 'ease')
    .on('step', function() {
      dialogB.reposition();
    });
</script>

</body>
</html>

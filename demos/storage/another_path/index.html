<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>localStorage</title>
<link rel="stylesheet" href="../../../stylesheets/common.css">
<script src="../../../our.js"></script>
<script src="../../../scripts/widget-demobutton.js"></script>
<style>
body { padding: 10px; background: #FFFFE1; }
h1 { margin-bottom: 10px; background: gold; font: bold 14px "Microsoft Yahei"; text-align: center; }
fieldset { display: inline-block; width: 200px; margin: 5px; }
table th { width: 50px; text-align: left; }
input { width: 100px; padding: 2px; border: 1px solid silver; line-height: 1; }
blockquote { margin: 5px 0 0; padding: 5px; border: 1px solid gainsboro; text-align: center; }
</style>
</head>
<body>
<div>
  <!-- localStorage { -->
  <h1>这是另一个路径下的页面（IE6 IE7 可跨路径）</h1>
  <fieldset>
    <legend>localStorage.setItem</legend>
    <form id="form_local_storage_set">
      <table>
        <tbody>
          <tr>
            <th>key:</th>
            <td><input name="key" type="text" value=""></td>
          </tr>
          <tr>
            <th>value:</th>
            <td><input name="value" type="text" value=""></td>
          </tr>
        </tbody>
      </table>
    </form>
    <blockquote>
      <button class="widget-demobutton" data-code="localStorageTest.setItem();">setItem</button>
    </blockquote>
  </fieldset>
  <fieldset>
    <legend>localStorage.getItem</legend>
    <form id="form_local_storage_get">
      <table>
        <tbody>
          <tr>
            <th>key:</th>
            <td><input name="key" type="text" value=""></td>
          </tr>
          <tr>
            <th>value:</th>
            <td><input name="value" type="text" value="" disabled></td>
          </tr>
        </tbody>
      </table>
    </form>
    <blockquote>
      <button class="widget-demobutton" data-code="localStorageTest.getItem();">getItem</button>
    </blockquote>
  </fieldset>
  <fieldset>
    <legend>localStorage.removeItem</legend>
    <form id="form_local_storage_remove">
      <table>
        <tr>
          <th>key:</th>
          <td><input name="key" type="text" value=""></td>
        </tr>
      </table>
    </form>
    <blockquote>
      <button class="widget-demobutton" data-code="localStorageTest.removeItem();">removeItem</button>
    </blockquote>
  </fieldset>
  <fieldset>
    <legend>localStorage.clear</legend>
    <blockquote>
      <button class="widget-demobutton" data-code="localStorageTest.clear();">clear</button>
    </blockquote>
  </fieldset>
  <script>
  window.localStorageTest = {
    setItem: function() {
      var $form = $('#form_local_storage_set');
      localStorage.setItem($form.key.value, $form.value.value);
    },
    getItem: function() {
      var $form = $('#form_local_storage_get');
      var value = localStorage.getItem($form.key.value);
      $form.value.value = value || '';
    },
    removeItem: function() {
      var $form = $('#form_local_storage_remove');
      localStorage.removeItem($form.key.value);
    },
    clear: function() {
      localStorage.clear();
    }
  };
  </script>
  <!-- } localStorage -->
</div>
</body>
</html>
